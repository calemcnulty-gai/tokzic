[
  {
    "insertId": "67aeca650008f40b73a387d0",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/getRecommendations/",
      "requestSize": "466",
      "status": 200,
      "responseSize": "699",
      "userAgent": "tokzic/1 CFNetwork/1568.300.101 Darwin/24.0.0",
      "remoteIp": "24.153.157.38",
      "serverIp": "216.239.36.54",
      "latency": "1.525029290s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "configuration_name": "getrecommendations",
        "location": "us-central1",
        "revision_name": "getrecommendations-00029-joz"
      }
    },
    "timestamp": "2025-02-14T04:45:24.051327Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.590486807Z",
    "spanId": "d031b72ea6715b41",
    "traceSampled": true
  },
  {
    "insertId": "67aeca930005301d5d20b975",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generation/",
      "requestSize": "458",
      "status": 200,
      "responseSize": "361",
      "userAgent": "tokzic/1 CFNetwork/1568.300.101 Darwin/24.0.0",
      "remoteIp": "24.153.157.38",
      "serverIp": "216.239.36.54",
      "latency": "47.277127719s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generation-00004-xel",
        "configuration_name": "generation",
        "project_id": "tokzic-mobile",
        "service_name": "generation"
      }
    },
    "timestamp": "2025-02-14T04:45:24.052192Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:46:11.348477031Z",
    "spanId": "694dd64131a95e80",
    "traceSampled": true
  },
  {
    "insertId": "67aeca64000153bf4a6f2bc5",
    "jsonPayload": {
      "query": {},
      "message": "[recommendation] Received recommendation request",
      "body": {
        "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93"
      }
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "revision_name": "getrecommendations-00029-joz",
        "configuration_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:24.086975Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:24.090363998Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca640001559f5beb088f",
    "jsonPayload": {
      "index": "tokzic",
      "message": "[recommendation] Attempting to initialize Pinecone client with config:",
      "hasApiKey": true
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "getrecommendations",
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "revision_name": "getrecommendations-00029-joz"
      }
    },
    "timestamp": "2025-02-14T04:45:24.087455Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:24.424086393Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca6400015a4edd0ea598",
    "jsonPayload": {
      "indexName": "tokzic",
      "hasIndex": true,
      "hasClient": true,
      "message": "[recommendation] Successfully initialized Pinecone client"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1",
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:45:24.088654Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:24.424086393Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca6400015ab15469845e",
    "jsonPayload": {
      "message": "[recommendation] Processing request for user",
      "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "getrecommendations-00029-joz",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "configuration_name": "getrecommendations",
        "service_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:24.088753Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd0ybqygz8",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:24.424086393Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca6400015b2a8619f70e",
    "jsonPayload": {
      "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93",
      "message": "[recommendation] Querying Firestore for user swipes"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "getrecommendations-00029-joz",
        "service_name": "getrecommendations",
        "location": "us-central1",
        "configuration_name": "getrecommendations",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:45:24.088874Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd0ybqygz8",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:24.424086393Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca640001c3aba755c3c2",
    "jsonPayload": {
      "body": {
        "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93"
      },
      "message": "[generation] Received generation request"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "generation-00004-xel",
        "service_name": "generation",
        "configuration_name": "generation"
      }
    },
    "timestamp": "2025-02-14T04:45:24.115627Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:24.123796141Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca640001c74e515d4a7d",
    "jsonPayload": {
      "hasOpenAIKey": true,
      "openAiModel": "gpt-3.5-turbo",
      "hasReplicateKey": true,
      "message": "[generation] Generation service configuration loaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "configuration_name": "generation",
        "project_id": "tokzic-mobile",
        "service_name": "generation",
        "revision_name": "generation-00004-xel"
      }
    },
    "timestamp": "2025-02-14T04:45:24.116558Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:24.667486812Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca640001c75db73dc953",
    "jsonPayload": {
      "message": "[generation] Querying Firestore for user swipes",
      "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generation-00004-xel",
        "configuration_name": "generation",
        "service_name": "generation",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:45:24.116573Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:24.667486812Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca64000dbf5e0aa7ef26",
    "jsonPayload": {
      "userId": "cLvbrXnkZUaEAUzmJ4CBXIJlLa93",
      "swipeCount": 209,
      "message": "[recommendation] Found swipes for user"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "revision_name": "getrecommendations-00029-joz",
        "configuration_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:24.900958Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.093960433Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca64000dc60a016b034e",
    "jsonPayload": {
      "message": "[recommendation] Processed swipes into weights",
      "weights": {
        "mixkit-white-blue-eyed-cat-1538-hd-ready.mp4": -22,
        "mixkit-dachshund-dog-while-hands-caress-it-10361-hd-ready.mp4": 23,
        "100496-video-720.mp4": -25,
        "mixkit-smiling-dog-1552-hd-ready.mp4": 25,
        "mixkit-dog-sitting-on-log-1550-hd-ready.mp4": 25,
        "100287-video-720.mp4": -24,
        "mixkit-parrots-on-a-branch-in-a-nature-reserve-4649-hd-ready.mp4": -25,
        "mixkit-white-cat-lying-among-the-grasses-seen-up-close-22732-hd-ready.mp4": -26
      },
      "uniqueVideoCount": 8
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "configuration_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:24.902666Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd0ybqygz8",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.093960433Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca64000dc65a013fbc41",
    "jsonPayload": {
      "videoCount": 8,
      "message": "[recommendation] Fetching vectors from Pinecone"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "service_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:45:24.902746Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd0ybqygz8",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.093960433Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca6500040b3f298a9515",
    "jsonPayload": {
      "videoCount": 8,
      "message": "[generation] Fetching video descriptions"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "generation-00004-xel",
        "service_name": "generation",
        "configuration_name": "generation"
      }
    },
    "timestamp": "2025-02-14T04:45:25.265023Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:25.456275791Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca650004ddc24f04b8ff",
    "jsonPayload": {
      "message": "[generation] Processed video descriptions",
      "dislikedCount": 129,
      "likedCount": 80
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generation-00004-xel",
        "service_name": "generation",
        "configuration_name": "generation",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:45:25.318914Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:25.456275791Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca650004df251d85764d",
    "jsonPayload": {
      "message": "[generation] Generating video prompt",
      "dislikedCount": 129,
      "likedCount": 80
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "configuration_name": "generation",
        "location": "us-central1",
        "revision_name": "generation-00004-xel",
        "service_name": "generation"
      }
    },
    "timestamp": "2025-02-14T04:45:25.319269Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02",
      "execution_id": "4acd1n6t27em",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:25.456275791Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca650007b6cea0653dcb",
    "jsonPayload": {
      "message": "[recommendation] Received Pinecone fetch response",
      "fetchedRecordsCount": 8,
      "hasRecords": true
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "service_name": "getrecommendations",
        "configuration_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:45:25.505550Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd0ybqygz8",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "textPayload": "[recommendation] Computing aggregated user vector",
    "insertId": "67aeca650007b6dd1a613a0c",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "location": "us-central1",
        "configuration_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:45:25.505565Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca650007bcaf62f86c80",
    "jsonPayload": {
      "validVectorsProcessed": 8,
      "message": "[recommendation] Computed user vector",
      "totalVectors": 8
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "getrecommendations",
        "location": "us-central1",
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "revision_name": "getrecommendations-00029-joz"
      }
    },
    "timestamp": "2025-02-14T04:45:25.507055Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "textPayload": "[recommendation] Querying Pinecone for recommendations",
    "insertId": "67aeca650007bcceab264fd1",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "project_id": "tokzic-mobile",
        "configuration_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:45:25.507086Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca650008c8fc041f424f",
    "jsonPayload": {
      "matchCount": 8,
      "message": "[recommendation] Received recommendation results"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "getrecommendations",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "getrecommendations-00029-joz",
        "configuration_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:25.575740Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd0ybqygz8"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca650008ca4c669a2776",
    "jsonPayload": {
      "firstMatchId": "mixkit-dachshund-dog-while-hands-caress-it-10361-hd-ready.mp4",
      "responseSize": 386,
      "message": "[recommendation] Preparing response payload",
      "matchesLength": 8
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "service_name": "getrecommendations",
        "configuration_name": "getrecommendations",
        "revision_name": "getrecommendations-00029-joz",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:45:25.576076Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "textPayload": "[recommendation] Response sent successfully",
    "insertId": "67aeca650008ea5627278202",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "getrecommendations",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "getrecommendations-00029-joz",
        "service_name": "getrecommendations"
      }
    },
    "timestamp": "2025-02-14T04:45:25.584278Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73370d6b8dfa1041f683e80282795555e8e79f1009d644022022c5d2bb2c545e2392a52e946956c236d02b0b34c044e147b26bcb9e7931ec818aa7638038da8f7e7b69",
      "execution_id": "4acd0ybqygz8",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/f8aa7bf06564ed2ec5f5e4f534f3efd4",
    "receiveTimestamp": "2025-02-14T04:45:25.755659726Z",
    "spanId": "15001973244736658241"
  },
  {
    "insertId": "67aeca6600084b990bd2407a",
    "jsonPayload": {
      "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion.",
      "message": "[generation] Generated prompt"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "generation-00004-xel",
        "service_name": "generation",
        "configuration_name": "generation",
        "project_id": "tokzic-mobile",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:45:26.543641Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4acd1n6t27em",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:26.787538032Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca6600084e92d9e13f0e",
    "jsonPayload": {
      "webhookUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "message": "[generation] Starting Luma Ray video generation"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generation-00004-xel",
        "service_name": "generation",
        "project_id": "tokzic-mobile",
        "configuration_name": "generation"
      }
    },
    "timestamp": "2025-02-14T04:45:26.544402Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:45:26.787538032Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca930004e458e67228ef",
    "jsonPayload": {
      "message": "[generation] Luma Ray prediction initiated",
      "prediction": {
        "locked": false
      }
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generation",
        "configuration_name": "generation",
        "revision_name": "generation-00004-xel",
        "location": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:11.320600Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4acd1n6t27em",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73375a56d1caf3ee00c82cb1833e6fe71d19e06186976b77a253d6bef3072501012e2fe754e1224a3fc91106d06d5dc3e330e80c255bda17ab54c70f6e0b43d85d02"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/24d3c094c9954fc0c5f5e4f534f3eb17",
    "receiveTimestamp": "2025-02-14T04:46:11.326043417Z",
    "spanId": "7587956522683555456"
  },
  {
    "insertId": "67aeca940003e6de411a05eb",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "requestSize": "2170",
      "status": 500,
      "responseSize": "439",
      "userAgent": "Webhooks/1.56.0",
      "remoteIp": "54.148.139.208",
      "serverIp": "216.239.36.54",
      "latency": "0.790278570s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec"
      }
    },
    "timestamp": "2025-02-14T04:46:11.457160Z",
    "severity": "ERROR",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:12.260570666Z",
    "spanId": "1315f0b57e6f1db8",
    "traceSampled": true
  },
  {
    "insertId": "67aeca930007a529876be825",
    "jsonPayload": {
      "openAiModel": "text-embedding-3-small",
      "message": "[generationWebhook] Generation service configuration loaded",
      "pineconeIndex": "tokzic",
      "hasSecrets": true
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:11.501033Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4addlyqy4vkh"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:11.506219535Z",
    "spanId": "1375269923532512696"
  },
  {
    "insertId": "67aeca930007a79c79892a37",
    "jsonPayload": {
      "body": {
        "version": "dp-b4cc1ac749e34fa0a9b255802e4da0f0",
        "error": null,
        "webhook": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "completed_at": "2025-02-14T04:46:11.137220566Z",
        "id": "5a2fr451bhrmc0cn0b3907bvw8",
        "output": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
        "status": "succeeded",
        "metrics": {
          "predict_time": 44.38241835
        },
        "urls": {
          "get": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8",
          "cancel": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8/cancel",
          "stream": "https://stream.replicate.com/v1/files/bcwr-4hkh27kh26mugcvov72wyjusl5zjxvsh22igvlrm53fsdaysynkq"
        },
        "input": {
          "aspect_ratio": "3:4",
          "loop": false,
          "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion."
        },
        "started_at": "2025-02-14T04:45:26.754802217Z",
        "logs": "Moderating content...\nModeration complete in 0.22sec\nRunning prediction...\nGenerating video...\nDreaming...\nCompleted...\nGenerated video in 43.89sec\nVIDEO_GENERATION_ID: 75836947-9c89-4d16-936c-99d19a9f6dba\nDownloading 1990731 bytes\nDownloaded 1.90MB in 0.27sec\n",
        "data_removed": false,
        "webhook_events_filter": [
          "completed"
        ],
        "created_at": "2025-02-14T04:45:26.748Z",
        "model": "luma/ray"
      },
      "message": "[generationWebhook] Received Replicate webhook callback"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:11.501660Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4addlyqy4vkh"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:11.842321265Z",
    "spanId": "1375269923532512696"
  },
  {
    "insertId": "67aeca930007a8de958d4973",
    "jsonPayload": {
      "url": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
      "message": "[generationWebhook] Downloading video"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:11.501982Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4addlyqy4vkh"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:11.842321265Z",
    "spanId": "1375269923532512696"
  },
  {
    "insertId": "67aeca93000e3cce55b1ab84",
    "jsonPayload": {
      "message": "[generationWebhook] Video downloaded",
      "sizeMB": "1.90",
      "size": 1990731
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:11.933070Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4addlyqy4vkh",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:12.170074015Z",
    "spanId": "1375269923532512696"
  },
  {
    "insertId": "67aeca9400038be2d56b423a",
    "jsonPayload": {
      "videoUrl": "https://storage.googleapis.com/tokzic-mobile.firebasestorage.app/generated_videos/5a2fr451bhrmc0cn0b3907bvw8.mp4",
      "message": "[generationWebhook] Video uploaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:12.232418Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4addlyqy4vkh",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:12.502621645Z",
    "spanId": "1375269923532512696"
  },
  {
    "insertId": "67aeca94000397f1788b6b18",
    "jsonPayload": {
      "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "stack": "Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /workspace/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at /workspace/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/workspace/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/workspace/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)",
      "error": "Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`."
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "configuration_name": "generationwebhook",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:12.235505Z",
    "severity": "ERROR",
    "labels": {
      "execution_id": "4addlyqy4vkh",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstderr",
    "trace": "projects/tokzic-mobile/traces/2eabc1fef785cc4caac530d4943fb509",
    "receiveTimestamp": "2025-02-14T04:46:12.241958960Z",
    "spanId": "1375269923532512696",
    "errorGroups": [
      {
        "id": "CO3p1Jy8n_nAIw"
      }
    ]
  },
  {
    "insertId": "67aeca96000122e8ba98112c",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "requestSize": "2170",
      "status": 500,
      "responseSize": "439",
      "userAgent": "Webhooks/1.56.0",
      "remoteIp": "52.24.126.164",
      "serverIp": "216.239.36.54",
      "latency": "0.667353626s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:13.404370Z",
    "severity": "ERROR",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:14.259954740Z",
    "spanId": "a06369dc53490024"
  },
  {
    "insertId": "67aeca9500064953cb0b1e87",
    "jsonPayload": {
      "message": "[generationWebhook] Generation service configuration loaded",
      "pineconeIndex": "tokzic",
      "openAiModel": "text-embedding-3-small",
      "hasSecrets": true
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:13.411987Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adf368p4l4q",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:13.503492752Z",
    "spanId": "11557197463773839396"
  },
  {
    "insertId": "67aeca95000649e2ce40bba0",
    "jsonPayload": {
      "message": "[generationWebhook] Received Replicate webhook callback",
      "body": {
        "version": "dp-b4cc1ac749e34fa0a9b255802e4da0f0",
        "created_at": "2025-02-14T04:45:26.748Z",
        "data_removed": false,
        "input": {
          "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion.",
          "loop": false,
          "aspect_ratio": "3:4"
        },
        "urls": {
          "get": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8",
          "stream": "https://stream.replicate.com/v1/files/bcwr-4hkh27kh26mugcvov72wyjusl5zjxvsh22igvlrm53fsdaysynkq",
          "cancel": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8/cancel"
        },
        "webhook_events_filter": [
          "completed"
        ],
        "webhook": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "status": "succeeded",
        "id": "5a2fr451bhrmc0cn0b3907bvw8",
        "error": null,
        "metrics": {
          "predict_time": 44.38241835
        },
        "completed_at": "2025-02-14T04:46:11.137220566Z",
        "started_at": "2025-02-14T04:45:26.754802217Z",
        "output": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
        "model": "luma/ray",
        "logs": "Moderating content...\nModeration complete in 0.22sec\nRunning prediction...\nGenerating video...\nDreaming...\nCompleted...\nGenerated video in 43.89sec\nVIDEO_GENERATION_ID: 75836947-9c89-4d16-936c-99d19a9f6dba\nDownloading 1990731 bytes\nDownloaded 1.90MB in 0.27sec\n"
      }
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "location": "us-central1",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:13.412130Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adf368p4l4q",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:13.503492752Z",
    "spanId": "11557197463773839396"
  },
  {
    "insertId": "67aeca9500064a182e091e59",
    "jsonPayload": {
      "message": "[generationWebhook] Downloading video",
      "url": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:13.412184Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adf368p4l4q"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:13.503492752Z",
    "spanId": "11557197463773839396"
  },
  {
    "insertId": "67aeca95000cc31dfc665771",
    "jsonPayload": {
      "size": 1990731,
      "sizeMB": "1.90",
      "message": "[generationWebhook] Video downloaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:13.836381Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adf368p4l4q",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:14.169593628Z",
    "spanId": "11557197463773839396"
  },
  {
    "insertId": "67aeca9600011717e12de902",
    "jsonPayload": {
      "message": "[generationWebhook] Video uploaded",
      "videoUrl": "https://storage.googleapis.com/tokzic-mobile.firebasestorage.app/generated_videos/5a2fr451bhrmc0cn0b3907bvw8.mp4"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:14.071447Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adf368p4l4q",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:14.169593628Z",
    "spanId": "11557197463773839396"
  },
  {
    "insertId": "67aeca9600011a87744b0b24",
    "jsonPayload": {
      "error": "Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.",
      "stack": "Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /workspace/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at /workspace/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/workspace/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/workspace/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)",
      "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:14.072327Z",
    "severity": "ERROR",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adf368p4l4q"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstderr",
    "trace": "projects/tokzic-mobile/traces/75685a796bdb9bb20b0ac4be46c723c6",
    "receiveTimestamp": "2025-02-14T04:46:14.238954587Z",
    "spanId": "11557197463773839396",
    "errorGroups": [
      {
        "id": "CO3p1Jy8n_nAIw"
      }
    ]
  },
  {
    "insertId": "67aeca9900086aa05902b96c",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "requestSize": "2171",
      "status": 500,
      "responseSize": "439",
      "userAgent": "Webhooks/1.56.0",
      "remoteIp": "50.112.21.217",
      "serverIp": "216.239.36.54",
      "latency": "0.340172677s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:17.209237Z",
    "severity": "ERROR",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.591035072Z",
    "spanId": "71d3d58cf2899966"
  },
  {
    "insertId": "67aeca99000348abe2afcb7b",
    "jsonPayload": {
      "pineconeIndex": "tokzic",
      "hasSecrets": true,
      "openAiModel": "text-embedding-3-small",
      "message": "[generationWebhook] Generation service configuration loaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:17.215211Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4adi0u4784qv"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.498930657Z",
    "spanId": "8202134147713046886"
  },
  {
    "insertId": "67aeca9900034939b998a6b8",
    "jsonPayload": {
      "body": {
        "created_at": "2025-02-14T04:45:26.748Z",
        "urls": {
          "stream": "https://stream.replicate.com/v1/files/bcwr-4hkh27kh26mugcvov72wyjusl5zjxvsh22igvlrm53fsdaysynkq",
          "get": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8",
          "cancel": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8/cancel"
        },
        "logs": "Moderating content...\nModeration complete in 0.22sec\nRunning prediction...\nGenerating video...\nDreaming...\nCompleted...\nGenerated video in 43.89sec\nVIDEO_GENERATION_ID: 75836947-9c89-4d16-936c-99d19a9f6dba\nDownloading 1990731 bytes\nDownloaded 1.90MB in 0.27sec\n",
        "input": {
          "aspect_ratio": "3:4",
          "loop": false,
          "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion."
        },
        "data_removed": false,
        "version": "dp-b4cc1ac749e34fa0a9b255802e4da0f0",
        "error": null,
        "model": "luma/ray",
        "completed_at": "2025-02-14T04:46:11.137220566Z",
        "status": "succeeded",
        "metrics": {
          "predict_time": 44.38241835
        },
        "id": "5a2fr451bhrmc0cn0b3907bvw8",
        "webhook": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "started_at": "2025-02-14T04:45:26.754802217Z",
        "webhook_events_filter": [
          "completed"
        ],
        "output": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4"
      },
      "message": "[generationWebhook] Received Replicate webhook callback"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:17.215353Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adi0u4784qv"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.498930657Z",
    "spanId": "8202134147713046886"
  },
  {
    "insertId": "67aeca99000349fe1c64b524",
    "jsonPayload": {
      "message": "[generationWebhook] Downloading video",
      "url": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:17.215550Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adi0u4784qv",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.498930657Z",
    "spanId": "8202134147713046886"
  },
  {
    "insertId": "67aeca990004f45c5d2573a6",
    "jsonPayload": {
      "sizeMB": "1.90",
      "size": 1990731,
      "message": "[generationWebhook] Video downloaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "configuration_name": "generationwebhook",
        "service_name": "generationwebhook",
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec"
      }
    },
    "timestamp": "2025-02-14T04:46:17.324700Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4adi0u4784qv",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.498930657Z",
    "spanId": "8202134147713046886"
  },
  {
    "insertId": "67aeca99000861f6bcd3b60c",
    "jsonPayload": {
      "videoUrl": "https://storage.googleapis.com/tokzic-mobile.firebasestorage.app/generated_videos/5a2fr451bhrmc0cn0b3907bvw8.mp4",
      "message": "[generationWebhook] Video uploaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:17.549366Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adi0u4784qv",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.833399483Z",
    "spanId": "8202134147713046886"
  },
  {
    "insertId": "67aeca99000868efcca1ef7b",
    "jsonPayload": {
      "stack": "Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /workspace/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at /workspace/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/workspace/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/workspace/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)",
      "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "error": "Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`."
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec"
      }
    },
    "timestamp": "2025-02-14T04:46:17.551151Z",
    "severity": "ERROR",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adi0u4784qv"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstderr",
    "trace": "projects/tokzic-mobile/traces/9a283b9e3ee0a0c05939bc8efc7b4626",
    "receiveTimestamp": "2025-02-14T04:46:17.568144428Z",
    "spanId": "8202134147713046886",
    "errorGroups": [
      {
        "id": "CO3p1Jy8n_nAIw"
      }
    ]
  },
  {
    "insertId": "67aecaa40001706fa9d4e5cc",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "requestSize": "2169",
      "status": 500,
      "responseSize": "439",
      "userAgent": "Webhooks/1.56.0",
      "remoteIp": "54.148.139.208",
      "serverIp": "216.239.36.54",
      "latency": "0.396124173s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:27.696039Z",
    "severity": "ERROR",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:28.246508495Z",
    "spanId": "78a0a46bd53b91fb",
    "traceSampled": true
  },
  {
    "insertId": "67aecaa3000ab32cabe672be",
    "jsonPayload": {
      "message": "[generationWebhook] Generation service configuration loaded",
      "openAiModel": "text-embedding-3-small",
      "hasSecrets": true,
      "pineconeIndex": "tokzic"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "revision_name": "generationwebhook-00004-pec"
      }
    },
    "timestamp": "2025-02-14T04:46:27.701228Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adq45ahms3l",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:27.824953821Z",
    "spanId": "8692128063870964219"
  },
  {
    "insertId": "67aecaa3000ab3d7d21bf83c",
    "jsonPayload": {
      "message": "[generationWebhook] Received Replicate webhook callback",
      "body": {
        "created_at": "2025-02-14T04:45:26.748Z",
        "id": "5a2fr451bhrmc0cn0b3907bvw8",
        "urls": {
          "cancel": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8/cancel",
          "get": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8",
          "stream": "https://stream.replicate.com/v1/files/bcwr-4hkh27kh26mugcvov72wyjusl5zjxvsh22igvlrm53fsdaysynkq"
        },
        "model": "luma/ray",
        "data_removed": false,
        "error": null,
        "logs": "Moderating content...\nModeration complete in 0.22sec\nRunning prediction...\nGenerating video...\nDreaming...\nCompleted...\nGenerated video in 43.89sec\nVIDEO_GENERATION_ID: 75836947-9c89-4d16-936c-99d19a9f6dba\nDownloading 1990731 bytes\nDownloaded 1.90MB in 0.27sec\n",
        "metrics": {
          "predict_time": 44.38241835
        },
        "input": {
          "loop": false,
          "aspect_ratio": "3:4",
          "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion."
        },
        "status": "succeeded",
        "output": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
        "version": "dp-b4cc1ac749e34fa0a9b255802e4da0f0",
        "webhook": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "started_at": "2025-02-14T04:45:26.754802217Z",
        "webhook_events_filter": [
          "completed"
        ],
        "completed_at": "2025-02-14T04:46:11.137220566Z"
      }
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:27.701399Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4adq45ahms3l",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:27.824953821Z",
    "spanId": "8692128063870964219"
  },
  {
    "insertId": "67aecaa3000ab3e38f420ecf",
    "jsonPayload": {
      "message": "[generationWebhook] Downloading video",
      "url": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "service_name": "generationwebhook",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "generationwebhook-00004-pec"
      }
    },
    "timestamp": "2025-02-14T04:46:27.701411Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adq45ahms3l"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:27.824953821Z",
    "spanId": "8692128063870964219"
  },
  {
    "insertId": "67aecaa3000e1502304892ea",
    "jsonPayload": {
      "message": "[generationWebhook] Video downloaded",
      "size": 1990731,
      "sizeMB": "1.90"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:27.922882Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4adq45ahms3l",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:28.157014319Z",
    "spanId": "8692128063870964219"
  },
  {
    "insertId": "67aecaa4000160088876447c",
    "jsonPayload": {
      "message": "[generationWebhook] Video uploaded",
      "videoUrl": "https://storage.googleapis.com/tokzic-mobile.firebasestorage.app/generated_videos/5a2fr451bhrmc0cn0b3907bvw8.mp4"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:28.090120Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4adq45ahms3l",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:28.157014319Z",
    "spanId": "8692128063870964219"
  },
  {
    "insertId": "67aecaa4000167af7f89a897",
    "jsonPayload": {
      "error": "Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.",
      "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "stack": "Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /workspace/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at /workspace/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/workspace/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/workspace/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:28.092079Z",
    "severity": "ERROR",
    "labels": {
      "execution_id": "4adq45ahms3l",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstderr",
    "trace": "projects/tokzic-mobile/traces/d70d360804ad542372e9621fde1c0fbb",
    "receiveTimestamp": "2025-02-14T04:46:28.225672780Z",
    "spanId": "8692128063870964219",
    "errorGroups": [
      {
        "id": "CO3p1Jy8n_nAIw"
      }
    ]
  },
  {
    "insertId": "15164825078296253604",
    "jsonPayload": {
      "message": "Error detected in generationwebhook version generationwebhook-00004-pec",
      "@type": "type.googleapis.com/google.devtools.clouderrorreporting.v1beta1.Insight",
      "errorEvent": {
        "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
        "eventTime": "2025-02-14T04:46:28.092079Z",
        "serviceContext": {
          "version": "generationwebhook-00004-pec",
          "service": "generationwebhook",
          "resourceType": "cloud_run_revision"
        }
      },
      "errorGroup": "projects/tokzic-mobile/groups/CO3p1Jy8n_nAIw",
      "exceptionInfo": {
        "type": "Error",
        "message": "[generationWebhook] Error in webhook processing:"
      }
    },
    "resource": {
      "type": "reported_errors",
      "labels": {
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:30.917790249Z",
    "severity": "NOTICE",
    "labels": {
      "logMessage": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "cloudRegion": "global",
      "causeLineNumber": "279",
      "causeFullFilePath": "/workspace/lib/generationWebhook.js",
      "clouderrorreporting.googleapis.com/notification_trigger_error_ingestion_time": "2025-02-14T04:46:12.24195896+00:00",
      "exceptionMessage": "[generationWebhook] Error in webhook processing:",
      "errorGroupId": "CO3p1Jy8n_nAIw",
      "causeFullyQualifiedFunction": "",
      "deploymentAppId": "generationwebhook",
      "deploymentVersion": "generationwebhook-00004-pec",
      "exceptionType": "Error",
      "activity_type_name": "CrashReportingErrorGroupNew",
      "notificationType": "New"
    },
    "logName": "projects/tokzic-mobile/logs/clouderrorreporting.googleapis.com%2Finsights",
    "receiveTimestamp": "2025-02-14T04:46:30.917790249Z"
  },
  {
    "insertId": "67aecabd000dfd29d715f6a1",
    "httpRequest": {
      "requestMethod": "POST",
      "requestUrl": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
      "requestSize": "2171",
      "status": 500,
      "responseSize": "439",
      "userAgent": "Webhooks/1.56.0",
      "remoteIp": "54.148.139.208",
      "serverIp": "216.239.36.54",
      "latency": "0.718174954s",
      "protocol": "HTTP/1.1"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:46:53.191171Z",
    "severity": "ERROR",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Frequests",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.922055681Z",
    "spanId": "541353e7a53a3bd7",
    "traceSampled": true
  },
  {
    "insertId": "67aecabd00031b326b0fcd93",
    "jsonPayload": {
      "message": "[generationWebhook] Generation service configuration loaded",
      "hasSecrets": true,
      "pineconeIndex": "tokzic",
      "openAiModel": "text-embedding-3-small"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:53.203570Z",
    "severity": "INFO",
    "labels": {
      "execution_id": "4ae9sj8r27v4",
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.208649787Z",
    "spanId": "6058278178118056919"
  },
  {
    "insertId": "67aecabd00031bd872dca296",
    "jsonPayload": {
      "body": {
        "error": null,
        "webhook_events_filter": [
          "completed"
        ],
        "metrics": {
          "predict_time": 44.38241835
        },
        "data_removed": false,
        "output": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
        "started_at": "2025-02-14T04:45:26.754802217Z",
        "status": "succeeded",
        "logs": "Moderating content...\nModeration complete in 0.22sec\nRunning prediction...\nGenerating video...\nDreaming...\nCompleted...\nGenerated video in 43.89sec\nVIDEO_GENERATION_ID: 75836947-9c89-4d16-936c-99d19a9f6dba\nDownloading 1990731 bytes\nDownloaded 1.90MB in 0.27sec\n",
        "id": "5a2fr451bhrmc0cn0b3907bvw8",
        "model": "luma/ray",
        "input": {
          "prompt": "Indulge in a heartwarming vertical video capturing the pure joy of a white and brown dog sitting on a log, smiling and soaking up the sunshine. This adorable pup's happiness is contagious as it receives gentle pets, making for a delightful and uplifting viewing experience. Whether you're a dog lover or simply seeking a moment of pure bliss, this charming video is sure to bring a smile to your face and brighten your day. Sit back, relax, and enjoy the heartwarming bond between a furry friend and its human companion.",
          "aspect_ratio": "3:4",
          "loop": false
        },
        "created_at": "2025-02-14T04:45:26.748Z",
        "urls": {
          "cancel": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8/cancel",
          "stream": "https://stream.replicate.com/v1/files/bcwr-4hkh27kh26mugcvov72wyjusl5zjxvsh22igvlrm53fsdaysynkq",
          "get": "https://api.replicate.com/v1/predictions/5a2fr451bhrmc0cn0b3907bvw8"
        },
        "webhook": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "version": "dp-b4cc1ac749e34fa0a9b255802e4da0f0",
        "completed_at": "2025-02-14T04:46:11.137220566Z"
      },
      "message": "[generationWebhook] Received Replicate webhook callback"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:53.203736Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4ae9sj8r27v4"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.542985009Z",
    "spanId": "6058278178118056919"
  },
  {
    "insertId": "67aecabd00031beb9127f733",
    "jsonPayload": {
      "url": "https://replicate.delivery/xezq/6WhnuNANuQJHDp4ocu2O58tb97sIE5ADxaq16MptDA8k8xDF/tmpxex_4kft.mp4",
      "message": "[generationWebhook] Downloading video"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "project_id": "tokzic-mobile",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:53.203755Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4ae9sj8r27v4",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.542985009Z",
    "spanId": "6058278178118056919"
  },
  {
    "insertId": "67aecabd00097b222d1edd5d",
    "jsonPayload": {
      "size": 1990731,
      "message": "[generationWebhook] Video downloaded",
      "sizeMB": "1.90"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:53.621346Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4ae9sj8r27v4"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.874897421Z",
    "spanId": "6058278178118056919"
  },
  {
    "insertId": "67aecabd000deff5524e0c4d",
    "jsonPayload": {
      "videoUrl": "https://storage.googleapis.com/tokzic-mobile.firebasestorage.app/generated_videos/5a2fr451bhrmc0cn0b3907bvw8.mp4",
      "message": "[generationWebhook] Video uploaded"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "location": "us-central1",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:46:53.913397Z",
    "severity": "INFO",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "execution_id": "4ae9sj8r27v4"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:54.207848960Z",
    "spanId": "6058278178118056919"
  },
  {
    "insertId": "67aecabd000df398b3375038",
    "jsonPayload": {
      "stack": "Error: Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`.\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:383:19)\n    at validateUserInput (/workspace/node_modules/@google-cloud/firestore/build/src/serializer.js:375:13)\n    at validateDocumentData (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:609:40)\n    at WriteBatch.set (/workspace/node_modules/@google-cloud/firestore/build/src/write-batch.js:263:9)\n    at /workspace/node_modules/@google-cloud/firestore/build/src/reference/document-reference.js:352:41\n    at /workspace/node_modules/@google-cloud/firestore/build/src/telemetry/enabled-trace-util.js:110:30\n    at NoopContextManager.with (/workspace/node_modules/@opentelemetry/api/build/src/context/NoopContextManager.js:25:19)\n    at ContextAPI.with (/workspace/node_modules/@opentelemetry/api/build/src/api/context.js:60:46)\n    at NoopTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/NoopTracer.js:65:31)\n    at ProxyTracer.startActiveSpan (/workspace/node_modules/@opentelemetry/api/build/src/trace/ProxyTracer.js:36:24)",
      "message": "Error: [generationWebhook] Error in webhook processing:\n    at entryFromArgs (/workspace/node_modules/firebase-functions/lib/logger/index.js:133:19)\n    at Object.error (/workspace/node_modules/firebase-functions/lib/logger/index.js:120:11)\n    at /workspace/lib/generationWebhook.js:279:37\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)",
      "error": "Value for argument \"data\" is not a valid Firestore document. Cannot use \"undefined\" as a Firestore value (found in field \"description\"). If you want to ignore undefined values, enable `ignoreUndefinedProperties`."
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:46:53.914328Z",
    "severity": "ERROR",
    "labels": {
      "goog-managed-by": "cloudfunctions",
      "execution_id": "4ae9sj8r27v4",
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstderr",
    "trace": "projects/tokzic-mobile/traces/c7c24badd94f2b09cef2eda7041004c4",
    "receiveTimestamp": "2025-02-14T04:46:53.919930375Z",
    "spanId": "6058278178118056919",
    "errorGroups": [
      {
        "id": "CO3p1Jy8n_nAIw"
      }
    ]
  }
]