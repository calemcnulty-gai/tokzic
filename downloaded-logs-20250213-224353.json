[
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "authenticationInfo": {
        "principalEmail": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com"
      },
      "requestMetadata": {
        "requestAttributes": {
          "time": "2025-02-14T04:26:14.805314Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "run.googleapis.com",
      "methodName": "google.cloud.serverless.internal.InternalServices.ReplaceInternalService",
      "authorizationInfo": [
        {
          "resource": "namespaces/tokzic-mobile/services/generationwebhook",
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {},
          "permissionType": "ADMIN_WRITE"
        },
        {
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {
            "service": "run.googleapis.com/",
            "name": "namespaces/tokzic-mobile/services/generationwebhook",
            "type": "run.googleapis.com/Service"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "uijl9cwyi",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "configuration_name": "",
        "revision_name": "",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:26:14.666248Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "receiveTimestamp": "2025-02-14T04:26:15.024133510Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": {
        "principalEmail": "calemcnulty@gmail.com",
        "principalSubject": "user:calemcnulty@gmail.com"
      },
      "requestMetadata": {
        "callerIp": "24.153.157.38",
        "callerSuppliedUserAgent": "FirebaseCLI/13.30.0,gzip(gfe),gzip(gfe)",
        "requestAttributes": {
          "time": "2025-02-14T04:26:14.465687281Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "cloudfunctions.googleapis.com",
      "methodName": "google.cloud.functions.v2.FunctionService.UpdateFunction",
      "authorizationInfo": [
        {
          "resource": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
          "permission": "cloudfunctions.functions.update",
          "granted": true,
          "resourceAttributes": {
            "service": "cloudfunctions.googleapis.com",
            "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
            "type": "cloudfunctions.googleapis.com/Function"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
      "request": {
        "update_mask": {
          "paths": [
            "name",
            "build_config.runtime",
            "build_config.entry_point",
            "build_config.source.storage_source.bucket",
            "build_config.source.storage_source.object",
            "build_config.environment_variables",
            "build_config.source_token",
            "service_config.environment_variables",
            "service_config.secret_environment_variables",
            "service_config.ingress_settings",
            "service_config.timeout_seconds",
            "service_config.service_account_email",
            "service_config.available_memory",
            "service_config.min_instance_count",
            "service_config.max_instance_count",
            "service_config.max_instance_request_concurrency",
            "service_config.available_cpu",
            "service_config.vpc_connector",
            "service_config.vpc_connector_egress_settings",
            "labels",
            "build_config.build_environment_variables"
          ]
        },
        "@type": "type.googleapis.com/google.cloud.functions.v2.UpdateFunctionRequest",
        "function": {
          "service_config": {
            "secret_environment_variables": [
              {
                "project_id": "tokzic-mobile",
                "version": "1",
                "secret": "OPENAI_API_KEY",
                "key": "OPENAI_API_KEY"
              },
              {
                "key": "PINECONE_API_KEY",
                "version": "2",
                "project_id": "tokzic-mobile",
                "secret": "PINECONE_API_KEY"
              }
            ],
            "min_instance_count": 0,
            "available_cpu": "1",
            "timeout_seconds": 300,
            "max_instance_request_concurrency": 80,
            "available_memory": "1024Mi"
          },
          "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
          "labels": {
            "firebase-functions-hash": "c083cccc3cd4cfb906628d1f111cc8494051fea9",
            "deployment-tool": "cli-firebase"
          },
          "build_config": {
            "source": {},
            "runtime": "nodejs18",
            "entry_point": "generationWebhook",
            "source_token": "Cldwcm9qZWN0cy8xOTgzMTUxNTc3NzUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9iZmQ1ZGE5Ni02NDlkLTQ2ODctODc2Mi0zNWQ0ZmU2MzZhYTUScnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3Rva3ppYy1tb2JpbGUvZ2NmLWFydGlmYWN0cy90b2t6aWMtLW1vYmlsZV9fdXMtLWNlbnRyYWwxX19nZXRfcmVjb21tZW5kYXRpb25zOnZlcnNpb25fMRiP0oTk4gUiSXByb2plY3RzL3Rva3ppYy1tb2JpbGUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9nZXRSZWNvbW1lbmRhdGlvbnMqCwjii7u9BhDosLkgMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB"
          }
        }
      },
      "response": {
        "@type": "type.googleapis.com/google.longrunning.Operation"
      },
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "1t7gn5rd2k73",
    "resource": {
      "type": "cloud_function",
      "labels": {
        "project_id": "tokzic-mobile",
        "region": "us-central1",
        "function_name": "generationWebhook"
      }
    },
    "timestamp": "2025-02-14T04:26:15.378240476Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "operation": {
      "id": "projects/tokzic-mobile/locations/us-central1/operations/operation-1739507174469-62e129337efda-79e1ee38-7e95b86c",
      "producer": "cloudfunctions.googleapis.com",
      "first": true
    },
    "receiveTimestamp": "2025-02-14T04:26:15.946016182Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "authenticationInfo": {
        "principalEmail": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com"
      },
      "requestMetadata": {
        "requestAttributes": {
          "time": "2025-02-14T04:26:15.962744Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "run.googleapis.com",
      "methodName": "google.cloud.serverless.internal.InternalServices.ReplaceInternalService",
      "authorizationInfo": [
        {
          "resource": "namespaces/tokzic-mobile/services/generationwebhook",
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {},
          "permissionType": "ADMIN_WRITE"
        },
        {
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {
            "service": "run.googleapis.com/",
            "name": "namespaces/tokzic-mobile/services/generationwebhook",
            "type": "run.googleapis.com/Service"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "-ikzl2ud56ji",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "",
        "project_id": "tokzic-mobile",
        "service_name": "generationwebhook",
        "location": "us-central1",
        "revision_name": ""
      }
    },
    "timestamp": "2025-02-14T04:26:15.833934Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "receiveTimestamp": "2025-02-14T04:26:16.129048563Z"
  },
  {
    "insertId": "67aec5ee0002c64fafc3e835",
    "jsonPayload": {
      "index": "tokzic",
      "message": "[recommendation] Pinecone configuration loaded:"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "revision_name": "generationwebhook-00003-tig",
        "service_name": "generationwebhook",
        "configuration_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:26:22.181839Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d7337b4c5c51cacf47b76653310abd40659917e0e12fb22952a49484216b262a02653ef58a3dcba077360f81a6f93bb2c5ff7222537ea982f42136b245df5b943c7d4",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "receiveTimestamp": "2025-02-14T04:26:22.184959876Z"
  },
  {
    "textPayload": "Default STARTUP TCP probe succeeded after 1 attempt for container \"worker\" on port 8080.",
    "insertId": "67aec5ee000b4587e0cf4e5c",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00003-tig",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:26:22.738695Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d7337b4c5c51cacf47b76653310abd40659917e0e12fb22952a49484216b262a02653ef58a3dcba077360f81a6f93bb2c5ff7222537ea982f42136b245df5b943c7d4",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fvarlog%2Fsystem",
    "receiveTimestamp": "2025-02-14T04:26:22.745345032Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {
        "message": "Ready condition status changed to True for Revision generationwebhook-00003-tig with message: Deploying revision succeeded in 6.81s."
      },
      "serviceName": "run.googleapis.com",
      "methodName": "/InternalServices.ReplaceInternalService",
      "resourceName": "namespaces/tokzic-mobile/revisions/generationwebhook-00003-tig",
      "response": {
        "metadata": {
          "name": "generationwebhook-00003-tig",
          "namespace": "198315157775",
          "selfLink": "/apis/serving.knative.dev/v1/namespaces/198315157775/revisions/generationwebhook-00003-tig",
          "uid": "874c2200-450d-493f-94e0-0f55ecfdc810",
          "resourceVersion": "AAYuEpO3XAk",
          "generation": 1,
          "creationTimestamp": "2025-02-14T04:26:16.013262Z",
          "labels": {
            "serving.knative.dev/configuration": "generationwebhook",
            "serving.knative.dev/configurationGeneration": "3",
            "serving.knative.dev/service": "generationwebhook",
            "serving.knative.dev/serviceUid": "b6f8f98a-a7b1-4cf5-aeb4-590295786269",
            "goog-managed-by": "cloudfunctions",
            "goog-cloudfunctions-runtime": "nodejs18",
            "cloud.googleapis.com/location": "us-central1",
            "serving.knative.dev/route": "generationwebhook",
            "run.googleapis.com/startupProbeType": "Default"
          },
          "annotations": {
            "run.googleapis.com/client-name": "cli-firebase",
            "run.googleapis.com/startup-cpu-boost": "true",
            "cloudfunctions.googleapis.com/trigger-type": "HTTP_TRIGGER",
            "run.googleapis.com/secrets": "secret-2dd19a14-99fe-304b-943d-42867110271a:projects/tokzic-mobile/secrets/OPENAI_API_KEY,secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f:projects/tokzic-mobile/secrets/PINECONE_API_KEY",
            "run.googleapis.com/build-source-location": "{\"worker\":\"gs://gcf-v2-sources-198315157775-us-central1/getRecommendations/function-source.zip#1739507127614339\"}",
            "serving.knative.dev/creator": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "run.googleapis.com/build-function-target": "{\"worker\":\"getRecommendations\"}",
            "run.googleapis.com/base-images": "{\"worker\":\"us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18\"}",
            "run.googleapis.com/build-id": "{\"worker\":\"bfd5da96-649d-4687-8762-35d4fe636aa5\"}",
            "run.googleapis.com/operation-id": "6fbc3325-f54b-4619-bf32-9fed2fa2483a",
            "autoscaling.knative.dev/maxScale": "3"
          },
          "ownerReferences": [
            {
              "kind": "Configuration",
              "name": "generationwebhook",
              "uid": "d5afc884-c740-43a7-99ec-215520dfbdbc",
              "apiVersion": "serving.knative.dev/v1",
              "controller": true,
              "blockOwnerDeletion": true
            }
          ]
        },
        "apiVersion": "serving.knative.dev/v1",
        "kind": "Revision",
        "spec": {
          "containerConcurrency": 80,
          "timeoutSeconds": 300,
          "serviceAccountName": "198315157775-compute@developer.gserviceaccount.com",
          "containers": [
            {
              "name": "worker",
              "image": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:f26e5f13aaed4f62e5eefed96213ed14276d2f441e6dd85fa13f34d45561f33e",
              "ports": [
                {
                  "name": "http1",
                  "containerPort": 8080
                }
              ],
              "env": [
                {
                  "name": "FIREBASE_CONFIG",
                  "value": "{\"projectId\":\"tokzic-mobile\",\"storageBucket\":\"tokzic-mobile.firebasestorage.app\"}"
                },
                {
                  "name": "GCLOUD_PROJECT",
                  "value": "tokzic-mobile"
                },
                {
                  "name": "EVENTARC_CLOUD_EVENT_SOURCE",
                  "value": "projects/tokzic-mobile/locations/us-central1/services/generationWebhook"
                },
                {
                  "name": "FUNCTION_TARGET",
                  "value": "generationWebhook"
                },
                {
                  "name": "LOG_EXECUTION_ID",
                  "value": "true"
                },
                {
                  "name": "FUNCTION_SIGNATURE_TYPE",
                  "value": "http"
                },
                {
                  "name": "OPENAI_API_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "1",
                      "name": "secret-2dd19a14-99fe-304b-943d-42867110271a"
                    }
                  }
                },
                {
                  "name": "PINECONE_API_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "2",
                      "name": "secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f"
                    }
                  }
                }
              ],
              "resources": {
                "limits": {
                  "cpu": "1",
                  "memory": "1024Mi"
                }
              },
              "startupProbe": {
                "timeoutSeconds": 240,
                "periodSeconds": 240,
                "failureThreshold": 1,
                "tcpSocket": {
                  "port": 8080
                }
              }
            }
          ],
          "runtimeClassName": "run.googleapis.com/linux-base-image-update"
        },
        "status": {
          "observedGeneration": 1,
          "conditions": [
            {
              "type": "Ready",
              "status": "True",
              "message": "Deploying revision succeeded in 6.81s.",
              "lastTransitionTime": "2025-02-14T04:26:22.820361Z"
            },
            {
              "type": "ContainerHealthy",
              "status": "True",
              "message": "Containers became healthy in 2.66s.",
              "lastTransitionTime": "2025-02-14T04:26:22.759036Z"
            },
            {
              "type": "ContainerReady",
              "status": "True",
              "message": "Container image import completed.",
              "lastTransitionTime": "2025-02-14T04:26:16.951581Z"
            },
            {
              "type": "ResourcesAvailable",
              "status": "True",
              "message": "Provisioning imported containers completed in 2.75s. Checking container health.",
              "lastTransitionTime": "2025-02-14T04:26:19.706129Z"
            }
          ],
          "logUrl": "https://console.cloud.google.com/logs/viewer?project=tokzic-mobile&resource=cloud_run_revision/service_name/generationwebhook/revision_name/generationwebhook-00003-tig&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22generationwebhook%22%0Aresource.labels.revision_name%3D%22generationwebhook-00003-tig%22",
          "imageDigest": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:f26e5f13aaed4f62e5eefed96213ed14276d2f441e6dd85fa13f34d45561f33e",
          "containerStatuses": [
            {
              "name": "worker",
              "imageDigest": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:f26e5f13aaed4f62e5eefed96213ed14276d2f441e6dd85fa13f34d45561f33e"
            }
          ]
        },
        "@type": "type.googleapis.com/google.cloud.run.v1.Revision"
      }
    },
    "insertId": "-frbufydozus",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "configuration_name": "generationwebhook",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00003-tig"
      }
    },
    "timestamp": "2025-02-14T04:26:22.832273Z",
    "severity": "INFO",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Fsystem_event",
    "receiveTimestamp": "2025-02-14T04:26:23.654923781Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {
        "message": "Ready condition status changed to True for Service generationwebhook."
      },
      "serviceName": "run.googleapis.com",
      "methodName": "/InternalServices.ReplaceInternalService",
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "response": {
        "metadata": {
          "name": "generationwebhook",
          "namespace": "198315157775",
          "selfLink": "/apis/serving.knative.dev/v1/namespaces/198315157775/services/generationwebhook",
          "uid": "b6f8f98a-a7b1-4cf5-aeb4-590295786269",
          "resourceVersion": "AAYuEpPL+W4",
          "generation": 3,
          "creationTimestamp": "2025-02-14T02:11:25.980411Z",
          "labels": {
            "goog-drz-cloudfunctions-id": "generationwebhook",
            "goog-drz-cloudfunctions-location": "us-central1",
            "goog-managed-by": "cloudfunctions",
            "goog-cloudfunctions-runtime": "nodejs18",
            "cloud.googleapis.com/location": "us-central1"
          },
          "annotations": {
            "serving.knative.dev/creator": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "serving.knative.dev/lastModifier": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "run.googleapis.com/custom-audiences": "[\"https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook\"]",
            "run.googleapis.com/client-name": "cli-firebase",
            "cloudfunctions.googleapis.com/function-id": "generationWebhook",
            "run.googleapis.com/build-source-location": "gs://gcf-v2-sources-198315157775-us-central1/generationWebhook/function-source.zip#1739507175311663",
            "run.googleapis.com/build-environment-variables": "{\"GOOGLE_NODE_RUN_SCRIPTS\":\"\"}",
            "run.googleapis.com/build-function-target": "generationWebhook",
            "run.googleapis.com/build-service-account": "projects/tokzic-mobile/serviceAccounts/198315157775-compute@developer.gserviceaccount.com",
            "run.googleapis.com/build-enable-automatic-updates": "true",
            "run.googleapis.com/build-base-image": "us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18",
            "run.googleapis.com/build-image-uri": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations:version_1",
            "run.googleapis.com/build-name": "projects/198315157775/locations/us-central1/builds/bfd5da96-649d-4687-8762-35d4fe636aa5",
            "run.googleapis.com/operation-id": "6fbc3325-f54b-4619-bf32-9fed2fa2483a",
            "run.googleapis.com/ingress": "all",
            "run.googleapis.com/ingress-status": "all",
            "run.googleapis.com/urls": "[\"https://generationwebhook-198315157775.us-central1.run.app\",\"https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook\",\"https://generationwebhook-gwu3szeunq-uc.a.run.app\"]"
          }
        },
        "apiVersion": "serving.knative.dev/v1",
        "kind": "Service",
        "spec": {
          "template": {
            "metadata": {
              "name": "generationwebhook-00003-tig",
              "labels": {
                "run.googleapis.com/startupProbeType": "Default"
              },
              "annotations": {
                "run.googleapis.com/client-name": "cli-firebase",
                "cloudfunctions.googleapis.com/trigger-type": "HTTP_TRIGGER",
                "run.googleapis.com/secrets": "secret-2dd19a14-99fe-304b-943d-42867110271a:projects/tokzic-mobile/secrets/OPENAI_API_KEY,secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f:projects/tokzic-mobile/secrets/PINECONE_API_KEY",
                "autoscaling.knative.dev/maxScale": "3",
                "run.googleapis.com/startup-cpu-boost": "true",
                "run.googleapis.com/base-images": "{\"worker\":\"us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18\"}"
              }
            },
            "spec": {
              "containerConcurrency": 80,
              "timeoutSeconds": 300,
              "serviceAccountName": "198315157775-compute@developer.gserviceaccount.com",
              "containers": [
                {
                  "name": "worker",
                  "image": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations:version_1",
                  "ports": [
                    {
                      "name": "http1",
                      "containerPort": 8080
                    }
                  ],
                  "env": [
                    {
                      "name": "FIREBASE_CONFIG",
                      "value": "{\"projectId\":\"tokzic-mobile\",\"storageBucket\":\"tokzic-mobile.firebasestorage.app\"}"
                    },
                    {
                      "name": "GCLOUD_PROJECT",
                      "value": "tokzic-mobile"
                    },
                    {
                      "name": "EVENTARC_CLOUD_EVENT_SOURCE",
                      "value": "projects/tokzic-mobile/locations/us-central1/services/generationWebhook"
                    },
                    {
                      "name": "FUNCTION_TARGET",
                      "value": "generationWebhook"
                    },
                    {
                      "name": "LOG_EXECUTION_ID",
                      "value": "true"
                    },
                    {
                      "name": "FUNCTION_SIGNATURE_TYPE",
                      "value": "http"
                    },
                    {
                      "name": "OPENAI_API_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "key": "1",
                          "name": "secret-2dd19a14-99fe-304b-943d-42867110271a"
                        }
                      }
                    },
                    {
                      "name": "PINECONE_API_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "key": "2",
                          "name": "secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f"
                        }
                      }
                    }
                  ],
                  "resources": {
                    "limits": {
                      "cpu": "1",
                      "memory": "1024Mi"
                    }
                  },
                  "startupProbe": {
                    "timeoutSeconds": 240,
                    "periodSeconds": 240,
                    "failureThreshold": 1,
                    "tcpSocket": {
                      "port": 8080
                    }
                  }
                }
              ],
              "runtimeClassName": "run.googleapis.com/linux-base-image-update"
            }
          },
          "traffic": [
            {
              "percent": 100,
              "latestRevision": true
            }
          ]
        },
        "status": {
          "observedGeneration": 3,
          "conditions": [
            {
              "type": "Ready",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:26:24.171374Z"
            },
            {
              "type": "ConfigurationsReady",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:26:23.171744Z"
            },
            {
              "type": "RoutesReady",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:26:24.129513Z"
            }
          ],
          "latestReadyRevisionName": "generationwebhook-00003-tig",
          "latestCreatedRevisionName": "generationwebhook-00003-tig",
          "traffic": [
            {
              "revisionName": "generationwebhook-00003-tig",
              "percent": 100,
              "latestRevision": true
            }
          ],
          "url": "https://generationwebhook-gwu3szeunq-uc.a.run.app",
          "address": {
            "url": "https://generationwebhook-gwu3szeunq-uc.a.run.app"
          }
        },
        "@type": "type.googleapis.com/google.cloud.run.v1.Service"
      }
    },
    "insertId": "ygln19d6170",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "configuration_name": "",
        "service_name": "generationwebhook",
        "revision_name": "",
        "location": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:26:24.192037Z",
    "severity": "INFO",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Fsystem_event",
    "receiveTimestamp": "2025-02-14T04:26:24.467446957Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": {
        "principalEmail": "calemcnulty@gmail.com",
        "principalSubject": "user:calemcnulty@gmail.com"
      },
      "requestMetadata": {
        "requestAttributes": {},
        "destinationAttributes": {}
      },
      "serviceName": "cloudfunctions.googleapis.com",
      "methodName": "google.cloud.functions.v2.FunctionService.UpdateFunction",
      "resourceName": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
      "response": {
        "buildConfig": {
          "automaticUpdatePolicy": {},
          "entryPoint": "generationWebhook",
          "runtime": "nodejs18",
          "source": {},
          "serviceAccount": "projects/tokzic-mobile/serviceAccounts/198315157775-compute@developer.gserviceaccount.com",
          "dockerRegistry": "ARTIFACT_REGISTRY",
          "dockerRepository": "projects/tokzic-mobile/locations/us-central1/repositories/gcf-artifacts"
        },
        "url": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook",
        "serviceConfig": {
          "secretEnvironmentVariables": [
            {
              "secret": "OPENAI_API_KEY",
              "key": "OPENAI_API_KEY",
              "version": "1",
              "projectId": "tokzic-mobile"
            },
            {
              "key": "PINECONE_API_KEY",
              "projectId": "tokzic-mobile",
              "secret": "PINECONE_API_KEY",
              "version": "2"
            }
          ],
          "ingressSettings": "ALLOW_ALL",
          "allTrafficOnLatestRevision": true,
          "timeoutSeconds": 300,
          "revision": "generationwebhook-00003-tig",
          "availableMemory": "1024Mi",
          "availableCpu": "1",
          "maxInstanceRequestConcurrency": 80,
          "maxInstanceCount": 3,
          "uri": "https://generationwebhook-gwu3szeunq-uc.a.run.app",
          "serviceAccountEmail": "198315157775-compute@developer.gserviceaccount.com"
        },
        "environment": "GEN_2",
        "@type": "type.googleapis.com/google.cloud.functions.v2.Function",
        "labels": {
          "firebase-functions-hash": "c083cccc3cd4cfb906628d1f111cc8494051fea9",
          "deployment-tool": "cli-firebase"
        },
        "satisfiesPzi": true,
        "createTime": "2025-02-14T02:11:25.425131274Z",
        "updateTime": "2025-02-14T04:26:15.363737282Z",
        "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
        "state": "ACTIVE"
      },
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "1t7gn5rd2k7c",
    "resource": {
      "type": "cloud_function",
      "labels": {
        "function_name": "generationWebhook",
        "region": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:26:24.479553422Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "operation": {
      "id": "projects/tokzic-mobile/locations/us-central1/operations/operation-1739507174469-62e129337efda-79e1ee38-7e95b86c",
      "producer": "cloudfunctions.googleapis.com",
      "last": true
    },
    "receiveTimestamp": "2025-02-14T04:26:24.947966360Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "authenticationInfo": {
        "principalEmail": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com"
      },
      "requestMetadata": {
        "requestAttributes": {
          "time": "2025-02-14T04:41:38.585279Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "run.googleapis.com",
      "methodName": "google.cloud.serverless.internal.InternalServices.ReplaceInternalService",
      "authorizationInfo": [
        {
          "resource": "namespaces/tokzic-mobile/services/generationwebhook",
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {},
          "permissionType": "ADMIN_WRITE"
        },
        {
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {
            "service": "run.googleapis.com/",
            "name": "namespaces/tokzic-mobile/services/generationwebhook",
            "type": "run.googleapis.com/Service"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "-8037a8dnuog",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "configuration_name": "",
        "revision_name": "",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:41:38.470919Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "receiveTimestamp": "2025-02-14T04:41:38.648218744Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": {
        "principalEmail": "calemcnulty@gmail.com",
        "principalSubject": "user:calemcnulty@gmail.com"
      },
      "requestMetadata": {
        "callerIp": "24.153.157.38",
        "callerSuppliedUserAgent": "FirebaseCLI/13.30.0,gzip(gfe),gzip(gfe)",
        "requestAttributes": {
          "time": "2025-02-14T04:41:38.231977073Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "cloudfunctions.googleapis.com",
      "methodName": "google.cloud.functions.v2.FunctionService.UpdateFunction",
      "authorizationInfo": [
        {
          "resource": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
          "permission": "cloudfunctions.functions.update",
          "granted": true,
          "resourceAttributes": {
            "service": "cloudfunctions.googleapis.com",
            "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
            "type": "cloudfunctions.googleapis.com/Function"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
      "request": {
        "function": {
          "service_config": {
            "available_cpu": "1",
            "max_instance_request_concurrency": 80,
            "available_memory": "1024Mi",
            "timeout_seconds": 300,
            "min_instance_count": 0,
            "secret_environment_variables": [
              {
                "version": "1",
                "secret": "OPENAI_API_KEY",
                "project_id": "tokzic-mobile",
                "key": "OPENAI_API_KEY"
              },
              {
                "key": "PINECONE_API_KEY",
                "project_id": "tokzic-mobile",
                "secret": "PINECONE_API_KEY",
                "version": "2"
              }
            ]
          },
          "build_config": {
            "runtime": "nodejs18",
            "source_token": "Cldwcm9qZWN0cy8xOTgzMTUxNTc3NzUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hM2M3ZGQ4ZC00ODY2LTQwNGMtYjFkOC0yN2NhMjM3YjA2NjQScnVzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3Rva3ppYy1tb2JpbGUvZ2NmLWFydGlmYWN0cy90b2t6aWMtLW1vYmlsZV9fdXMtLWNlbnRyYWwxX19nZXRfcmVjb21tZW5kYXRpb25zOnZlcnNpb25fMRiP0oTk4gUiSXByb2plY3RzL3Rva3ppYy1tb2JpbGUvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2Z1bmN0aW9ucy9nZXRSZWNvbW1lbmRhdGlvbnMqCwj+kru9BhDAiJEqMghub2RlanMxODp2CiNnY3IuaW8vZ2FlLXJ1bnRpbWVzL25vZGVqczE4OnN0YWJsZRJPdXMtY2VudHJhbDEtZG9ja2VyLnBrZy5kZXYvc2VydmVybGVzcy1ydW50aW1lcy9nb29nbGUtMjItZnVsbC9ydW50aW1lcy9ub2RlanMxOEAB",
            "entry_point": "generationWebhook",
            "source": {}
          },
          "labels": {
            "firebase-functions-hash": "0d05361fbf31470d10e203e9ad9fc611dbd09c38",
            "deployment-tool": "cli-firebase"
          },
          "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook"
        },
        "@type": "type.googleapis.com/google.cloud.functions.v2.UpdateFunctionRequest",
        "update_mask": {
          "paths": [
            "name",
            "build_config.runtime",
            "build_config.entry_point",
            "build_config.source.storage_source.bucket",
            "build_config.source.storage_source.object",
            "build_config.environment_variables",
            "build_config.source_token",
            "service_config.environment_variables",
            "service_config.secret_environment_variables",
            "service_config.ingress_settings",
            "service_config.timeout_seconds",
            "service_config.service_account_email",
            "service_config.available_memory",
            "service_config.min_instance_count",
            "service_config.max_instance_count",
            "service_config.max_instance_request_concurrency",
            "service_config.available_cpu",
            "service_config.vpc_connector",
            "service_config.vpc_connector_egress_settings",
            "labels",
            "build_config.build_environment_variables"
          ]
        }
      },
      "response": {
        "@type": "type.googleapis.com/google.longrunning.Operation"
      },
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "g4uw4cddyru",
    "resource": {
      "type": "cloud_function",
      "labels": {
        "function_name": "generationWebhook",
        "region": "us-central1",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:41:39.050321511Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "operation": {
      "id": "projects/tokzic-mobile/locations/us-central1/operations/operation-1739508098235-62e12ca477cd7-0db43239-2a01dd6f",
      "producer": "cloudfunctions.googleapis.com",
      "first": true
    },
    "receiveTimestamp": "2025-02-14T04:41:39.784431298Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "authenticationInfo": {
        "principalEmail": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com"
      },
      "requestMetadata": {
        "requestAttributes": {
          "time": "2025-02-14T04:41:39.592380Z",
          "auth": {}
        },
        "destinationAttributes": {}
      },
      "serviceName": "run.googleapis.com",
      "methodName": "google.cloud.serverless.internal.InternalServices.ReplaceInternalService",
      "authorizationInfo": [
        {
          "resource": "namespaces/tokzic-mobile/services/generationwebhook",
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {},
          "permissionType": "ADMIN_WRITE"
        },
        {
          "permission": "run.services.update",
          "granted": true,
          "resourceAttributes": {
            "service": "run.googleapis.com/",
            "name": "namespaces/tokzic-mobile/services/generationwebhook",
            "type": "run.googleapis.com/Service"
          },
          "permissionType": "ADMIN_WRITE"
        }
      ],
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "gzlstidkifs",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "project_id": "tokzic-mobile",
        "revision_name": ""
      }
    },
    "timestamp": "2025-02-14T04:41:39.486387Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "receiveTimestamp": "2025-02-14T04:41:40.182696250Z"
  },
  {
    "insertId": "67aec98c000b07ef5c515ae5",
    "jsonPayload": {
      "index": "tokzic",
      "message": "[recommendation] Pinecone configuration loaded:"
    },
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "project_id": "tokzic-mobile",
        "location": "us-central1",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:41:48.722927Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fstdout",
    "receiveTimestamp": "2025-02-14T04:41:48.727778991Z"
  },
  {
    "textPayload": "Default STARTUP TCP probe succeeded after 1 attempt for container \"worker\" on port 8080.",
    "insertId": "67aec98d00082e8e2e972d31",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "configuration_name": "generationwebhook",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:41:49.536206Z",
    "severity": "INFO",
    "labels": {
      "instanceId": "00fd7d73379f9d973171ac11cd816adaccb834fe1f17689174f9da8c64829cc9d51a0a355104cf4571ba88cb5bd1d6ee805ab1d0a3042d7003ccc8fe8db6cad2ea842c4e426b",
      "goog-managed-by": "cloudfunctions"
    },
    "logName": "projects/tokzic-mobile/logs/run.googleapis.com%2Fvarlog%2Fsystem",
    "receiveTimestamp": "2025-02-14T04:41:49.540928068Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {
        "message": "Ready condition status changed to True for Revision generationwebhook-00004-pec with message: Deploying revision succeeded in 9.97s."
      },
      "serviceName": "run.googleapis.com",
      "methodName": "/InternalServices.ReplaceInternalService",
      "resourceName": "namespaces/tokzic-mobile/revisions/generationwebhook-00004-pec",
      "response": {
        "metadata": {
          "name": "generationwebhook-00004-pec",
          "namespace": "198315157775",
          "selfLink": "/apis/serving.knative.dev/v1/namespaces/198315157775/revisions/generationwebhook-00004-pec",
          "uid": "2ff4736f-e6e4-4422-8629-135b2c5f8a55",
          "resourceVersion": "AAYuEsr1M0U",
          "generation": 1,
          "creationTimestamp": "2025-02-14T04:41:39.643241Z",
          "labels": {
            "serving.knative.dev/configuration": "generationwebhook",
            "serving.knative.dev/configurationGeneration": "4",
            "serving.knative.dev/service": "generationwebhook",
            "serving.knative.dev/serviceUid": "b6f8f98a-a7b1-4cf5-aeb4-590295786269",
            "goog-managed-by": "cloudfunctions",
            "goog-cloudfunctions-runtime": "nodejs18",
            "cloud.googleapis.com/location": "us-central1",
            "serving.knative.dev/route": "generationwebhook",
            "run.googleapis.com/startupProbeType": "Default"
          },
          "annotations": {
            "run.googleapis.com/client-name": "cli-firebase",
            "run.googleapis.com/startup-cpu-boost": "true",
            "cloudfunctions.googleapis.com/trigger-type": "HTTP_TRIGGER",
            "run.googleapis.com/secrets": "secret-2dd19a14-99fe-304b-943d-42867110271a:projects/tokzic-mobile/secrets/OPENAI_API_KEY,secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f:projects/tokzic-mobile/secrets/PINECONE_API_KEY",
            "run.googleapis.com/build-source-location": "{\"worker\":\"gs://gcf-v2-sources-198315157775-us-central1/getRecommendations/function-source.zip#1739508061567871\"}",
            "serving.knative.dev/creator": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "run.googleapis.com/build-function-target": "{\"worker\":\"getRecommendations\"}",
            "run.googleapis.com/base-images": "{\"worker\":\"us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18\"}",
            "run.googleapis.com/build-id": "{\"worker\":\"a3c7dd8d-4866-404c-b1d8-27ca237b0664\"}",
            "run.googleapis.com/operation-id": "7a5d2ddb-b358-4b22-ae70-f3217b95a146",
            "autoscaling.knative.dev/maxScale": "3"
          },
          "ownerReferences": [
            {
              "kind": "Configuration",
              "name": "generationwebhook",
              "uid": "d5afc884-c740-43a7-99ec-215520dfbdbc",
              "apiVersion": "serving.knative.dev/v1",
              "controller": true,
              "blockOwnerDeletion": true
            }
          ]
        },
        "apiVersion": "serving.knative.dev/v1",
        "kind": "Revision",
        "spec": {
          "containerConcurrency": 80,
          "timeoutSeconds": 300,
          "serviceAccountName": "198315157775-compute@developer.gserviceaccount.com",
          "containers": [
            {
              "name": "worker",
              "image": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:3f9721cb5351e3f27886594adf8d5073d6aad4c980d57cd3fde17f4ce4182a37",
              "ports": [
                {
                  "name": "http1",
                  "containerPort": 8080
                }
              ],
              "env": [
                {
                  "name": "FIREBASE_CONFIG",
                  "value": "{\"projectId\":\"tokzic-mobile\",\"storageBucket\":\"tokzic-mobile.firebasestorage.app\"}"
                },
                {
                  "name": "GCLOUD_PROJECT",
                  "value": "tokzic-mobile"
                },
                {
                  "name": "EVENTARC_CLOUD_EVENT_SOURCE",
                  "value": "projects/tokzic-mobile/locations/us-central1/services/generationWebhook"
                },
                {
                  "name": "FUNCTION_TARGET",
                  "value": "generationWebhook"
                },
                {
                  "name": "LOG_EXECUTION_ID",
                  "value": "true"
                },
                {
                  "name": "FUNCTION_SIGNATURE_TYPE",
                  "value": "http"
                },
                {
                  "name": "OPENAI_API_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "1",
                      "name": "secret-2dd19a14-99fe-304b-943d-42867110271a"
                    }
                  }
                },
                {
                  "name": "PINECONE_API_KEY",
                  "valueFrom": {
                    "secretKeyRef": {
                      "key": "2",
                      "name": "secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f"
                    }
                  }
                }
              ],
              "resources": {
                "limits": {
                  "cpu": "1",
                  "memory": "1024Mi"
                }
              },
              "startupProbe": {
                "timeoutSeconds": 240,
                "periodSeconds": 240,
                "failureThreshold": 1,
                "tcpSocket": {
                  "port": 8080
                }
              }
            }
          ],
          "runtimeClassName": "run.googleapis.com/linux-base-image-update"
        },
        "status": {
          "observedGeneration": 1,
          "conditions": [
            {
              "type": "Ready",
              "status": "True",
              "message": "Deploying revision succeeded in 9.97s.",
              "lastTransitionTime": "2025-02-14T04:41:49.620037Z"
            },
            {
              "type": "ContainerHealthy",
              "status": "True",
              "message": "Containers became healthy in 3.77s.",
              "lastTransitionTime": "2025-02-14T04:41:49.556526Z"
            },
            {
              "type": "ContainerReady",
              "status": "True",
              "message": "Container image import completed.",
              "lastTransitionTime": "2025-02-14T04:41:40.453122Z"
            },
            {
              "type": "ResourcesAvailable",
              "status": "True",
              "message": "Provisioning imported containers completed in 2.86s. Checking container health.",
              "lastTransitionTime": "2025-02-14T04:41:43.315261Z"
            }
          ],
          "logUrl": "https://console.cloud.google.com/logs/viewer?project=tokzic-mobile&resource=cloud_run_revision/service_name/generationwebhook/revision_name/generationwebhook-00004-pec&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22generationwebhook%22%0Aresource.labels.revision_name%3D%22generationwebhook-00004-pec%22",
          "imageDigest": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:3f9721cb5351e3f27886594adf8d5073d6aad4c980d57cd3fde17f4ce4182a37",
          "containerStatuses": [
            {
              "name": "worker",
              "imageDigest": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations@sha256:3f9721cb5351e3f27886594adf8d5073d6aad4c980d57cd3fde17f4ce4182a37"
            }
          ]
        },
        "@type": "type.googleapis.com/google.cloud.run.v1.Revision"
      }
    },
    "insertId": "-bcfrsydofj2",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "location": "us-central1",
        "project_id": "tokzic-mobile",
        "configuration_name": "generationwebhook",
        "revision_name": "generationwebhook-00004-pec",
        "service_name": "generationwebhook"
      }
    },
    "timestamp": "2025-02-14T04:41:49.631477Z",
    "severity": "INFO",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Fsystem_event",
    "receiveTimestamp": "2025-02-14T04:41:50.311230127Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {
        "message": "Ready condition status changed to True for Service generationwebhook."
      },
      "serviceName": "run.googleapis.com",
      "methodName": "/InternalServices.ReplaceInternalService",
      "resourceName": "namespaces/tokzic-mobile/services/generationwebhook",
      "response": {
        "metadata": {
          "name": "generationwebhook",
          "namespace": "198315157775",
          "selfLink": "/apis/serving.knative.dev/v1/namespaces/198315157775/services/generationwebhook",
          "uid": "b6f8f98a-a7b1-4cf5-aeb4-590295786269",
          "resourceVersion": "AAYuEssJ9Ac",
          "generation": 4,
          "creationTimestamp": "2025-02-14T02:11:25.980411Z",
          "labels": {
            "goog-drz-cloudfunctions-id": "generationwebhook",
            "goog-drz-cloudfunctions-location": "us-central1",
            "goog-managed-by": "cloudfunctions",
            "goog-cloudfunctions-runtime": "nodejs18",
            "cloud.googleapis.com/location": "us-central1"
          },
          "annotations": {
            "serving.knative.dev/creator": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "serving.knative.dev/lastModifier": "service-198315157775@gcf-admin-robot.iam.gserviceaccount.com",
            "run.googleapis.com/custom-audiences": "[\"https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook\"]",
            "run.googleapis.com/client-name": "cli-firebase",
            "cloudfunctions.googleapis.com/function-id": "generationWebhook",
            "run.googleapis.com/build-source-location": "gs://gcf-v2-sources-198315157775-us-central1/generationWebhook/function-source.zip#1739508098983389",
            "run.googleapis.com/build-environment-variables": "{\"GOOGLE_NODE_RUN_SCRIPTS\":\"\"}",
            "run.googleapis.com/build-function-target": "generationWebhook",
            "run.googleapis.com/build-service-account": "projects/tokzic-mobile/serviceAccounts/198315157775-compute@developer.gserviceaccount.com",
            "run.googleapis.com/build-enable-automatic-updates": "true",
            "run.googleapis.com/build-base-image": "us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18",
            "run.googleapis.com/build-image-uri": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations:version_1",
            "run.googleapis.com/build-name": "projects/198315157775/locations/us-central1/builds/a3c7dd8d-4866-404c-b1d8-27ca237b0664",
            "run.googleapis.com/operation-id": "7a5d2ddb-b358-4b22-ae70-f3217b95a146",
            "run.googleapis.com/ingress": "all",
            "run.googleapis.com/ingress-status": "all",
            "run.googleapis.com/urls": "[\"https://generationwebhook-198315157775.us-central1.run.app\",\"https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook\",\"https://generationwebhook-gwu3szeunq-uc.a.run.app\"]"
          }
        },
        "apiVersion": "serving.knative.dev/v1",
        "kind": "Service",
        "spec": {
          "template": {
            "metadata": {
              "name": "generationwebhook-00004-pec",
              "labels": {
                "run.googleapis.com/startupProbeType": "Default"
              },
              "annotations": {
                "run.googleapis.com/client-name": "cli-firebase",
                "cloudfunctions.googleapis.com/trigger-type": "HTTP_TRIGGER",
                "run.googleapis.com/secrets": "secret-2dd19a14-99fe-304b-943d-42867110271a:projects/tokzic-mobile/secrets/OPENAI_API_KEY,secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f:projects/tokzic-mobile/secrets/PINECONE_API_KEY",
                "autoscaling.knative.dev/maxScale": "3",
                "run.googleapis.com/startup-cpu-boost": "true",
                "run.googleapis.com/base-images": "{\"worker\":\"us-central1-docker.pkg.dev/serverless-runtimes/google-22-full/runtimes/nodejs18\"}"
              }
            },
            "spec": {
              "containerConcurrency": 80,
              "timeoutSeconds": 300,
              "serviceAccountName": "198315157775-compute@developer.gserviceaccount.com",
              "containers": [
                {
                  "name": "worker",
                  "image": "us-central1-docker.pkg.dev/tokzic-mobile/gcf-artifacts/tokzic--mobile__us--central1__get_recommendations:version_1",
                  "ports": [
                    {
                      "name": "http1",
                      "containerPort": 8080
                    }
                  ],
                  "env": [
                    {
                      "name": "FIREBASE_CONFIG",
                      "value": "{\"projectId\":\"tokzic-mobile\",\"storageBucket\":\"tokzic-mobile.firebasestorage.app\"}"
                    },
                    {
                      "name": "GCLOUD_PROJECT",
                      "value": "tokzic-mobile"
                    },
                    {
                      "name": "EVENTARC_CLOUD_EVENT_SOURCE",
                      "value": "projects/tokzic-mobile/locations/us-central1/services/generationWebhook"
                    },
                    {
                      "name": "FUNCTION_TARGET",
                      "value": "generationWebhook"
                    },
                    {
                      "name": "LOG_EXECUTION_ID",
                      "value": "true"
                    },
                    {
                      "name": "FUNCTION_SIGNATURE_TYPE",
                      "value": "http"
                    },
                    {
                      "name": "OPENAI_API_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "key": "1",
                          "name": "secret-2dd19a14-99fe-304b-943d-42867110271a"
                        }
                      }
                    },
                    {
                      "name": "PINECONE_API_KEY",
                      "valueFrom": {
                        "secretKeyRef": {
                          "key": "2",
                          "name": "secret-c5ad394f-70bf-3a1d-80ce-e4b9b0d0e34f"
                        }
                      }
                    }
                  ],
                  "resources": {
                    "limits": {
                      "cpu": "1",
                      "memory": "1024Mi"
                    }
                  },
                  "startupProbe": {
                    "timeoutSeconds": 240,
                    "periodSeconds": 240,
                    "failureThreshold": 1,
                    "tcpSocket": {
                      "port": 8080
                    }
                  }
                }
              ],
              "runtimeClassName": "run.googleapis.com/linux-base-image-update"
            }
          },
          "traffic": [
            {
              "percent": 100,
              "latestRevision": true
            }
          ]
        },
        "status": {
          "observedGeneration": 4,
          "conditions": [
            {
              "type": "Ready",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:41:50.980103Z"
            },
            {
              "type": "ConfigurationsReady",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:41:49.660652Z"
            },
            {
              "type": "RoutesReady",
              "status": "True",
              "lastTransitionTime": "2025-02-14T04:41:50.940801Z"
            }
          ],
          "latestReadyRevisionName": "generationwebhook-00004-pec",
          "latestCreatedRevisionName": "generationwebhook-00004-pec",
          "traffic": [
            {
              "revisionName": "generationwebhook-00004-pec",
              "percent": 100,
              "latestRevision": true
            }
          ],
          "url": "https://generationwebhook-gwu3szeunq-uc.a.run.app",
          "address": {
            "url": "https://generationwebhook-gwu3szeunq-uc.a.run.app"
          }
        },
        "@type": "type.googleapis.com/google.cloud.run.v1.Service"
      }
    },
    "insertId": "gem9lsd9t8g",
    "resource": {
      "type": "cloud_run_revision",
      "labels": {
        "configuration_name": "",
        "location": "us-central1",
        "service_name": "generationwebhook",
        "revision_name": "",
        "project_id": "tokzic-mobile"
      }
    },
    "timestamp": "2025-02-14T04:41:50.994260Z",
    "severity": "INFO",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Fsystem_event",
    "receiveTimestamp": "2025-02-14T04:41:51.201295409Z"
  },
  {
    "protoPayload": {
      "@type": "type.googleapis.com/google.cloud.audit.AuditLog",
      "status": {},
      "authenticationInfo": {
        "principalEmail": "calemcnulty@gmail.com",
        "principalSubject": "user:calemcnulty@gmail.com"
      },
      "requestMetadata": {
        "requestAttributes": {},
        "destinationAttributes": {}
      },
      "serviceName": "cloudfunctions.googleapis.com",
      "methodName": "google.cloud.functions.v2.FunctionService.UpdateFunction",
      "resourceName": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
      "response": {
        "environment": "GEN_2",
        "state": "ACTIVE",
        "satisfiesPzi": true,
        "buildConfig": {
          "entryPoint": "generationWebhook",
          "runtime": "nodejs18",
          "serviceAccount": "projects/tokzic-mobile/serviceAccounts/198315157775-compute@developer.gserviceaccount.com",
          "dockerRepository": "projects/tokzic-mobile/locations/us-central1/repositories/gcf-artifacts",
          "automaticUpdatePolicy": {},
          "dockerRegistry": "ARTIFACT_REGISTRY",
          "source": {}
        },
        "createTime": "2025-02-14T02:11:25.425131274Z",
        "@type": "type.googleapis.com/google.cloud.functions.v2.Function",
        "updateTime": "2025-02-14T04:41:39.036595823Z",
        "serviceConfig": {
          "timeoutSeconds": 300,
          "ingressSettings": "ALLOW_ALL",
          "serviceAccountEmail": "198315157775-compute@developer.gserviceaccount.com",
          "uri": "https://generationwebhook-gwu3szeunq-uc.a.run.app",
          "availableMemory": "1024Mi",
          "allTrafficOnLatestRevision": true,
          "revision": "generationwebhook-00004-pec",
          "secretEnvironmentVariables": [
            {
              "secret": "OPENAI_API_KEY",
              "key": "OPENAI_API_KEY",
              "projectId": "tokzic-mobile",
              "version": "1"
            },
            {
              "version": "2",
              "key": "PINECONE_API_KEY",
              "projectId": "tokzic-mobile",
              "secret": "PINECONE_API_KEY"
            }
          ],
          "maxInstanceRequestConcurrency": 80,
          "maxInstanceCount": 3,
          "availableCpu": "1"
        },
        "name": "projects/tokzic-mobile/locations/us-central1/functions/generationWebhook",
        "labels": {
          "deployment-tool": "cli-firebase",
          "firebase-functions-hash": "0d05361fbf31470d10e203e9ad9fc611dbd09c38"
        },
        "url": "https://us-central1-tokzic-mobile.cloudfunctions.net/generationWebhook"
      },
      "resourceLocation": {
        "currentLocations": [
          "us-central1"
        ]
      }
    },
    "insertId": "g4uw4cddyry",
    "resource": {
      "type": "cloud_function",
      "labels": {
        "function_name": "generationWebhook",
        "project_id": "tokzic-mobile",
        "region": "us-central1"
      }
    },
    "timestamp": "2025-02-14T04:41:51.282216652Z",
    "severity": "NOTICE",
    "logName": "projects/tokzic-mobile/logs/cloudaudit.googleapis.com%2Factivity",
    "operation": {
      "id": "projects/tokzic-mobile/locations/us-central1/operations/operation-1739508098235-62e12ca477cd7-0db43239-2a01dd6f",
      "producer": "cloudfunctions.googleapis.com",
      "last": true
    },
    "receiveTimestamp": "2025-02-14T04:41:51.786888229Z"
  }
]